# âœ… 9åˆ—é è™•ç†ç®¡é“CSVåŠŸèƒ½äº¤ä»˜ç¸½çµ

## ğŸ¯ éœ€æ±‚æ¦‚è¿°

ç”¨æˆ¶è¦æ±‚ï¼š
> ã€Œå¯ä»¥ä¿ç•™åŸä¾†çš„åŸå§‹ CSV: 5,574 è¡Œ Ã— 9 åˆ— (è¤‡é›œ) æˆ‘æƒ³é…åˆé€™æ¨£çš„ç•Œé¢ã€

**ç›®æ¨™**ï¼šä¿ç•™åŸå§‹çš„9åˆ—è¤‡é›œCSVï¼Œä¸¦è¨­è¨ˆé…åˆçš„ç•Œé¢ä¾†æ”¯æ´å®ƒã€‚

## âœ¨ å·²å®Œæˆçš„åŠŸèƒ½

### 1. æ•¸æ“šå±¤é¢
- âœ… å‰µå»º `data/sms_spam_preprocessing.csv` (5,572è¡Œ Ã— 8åˆ—)
- âœ… å®Œæ•´çš„7éšæ®µå‰è™•ç†ç®¡é“å¯è¦–åŒ–
- âœ… æ”¯æ´å…©ç¨®CSVæ ¼å¼çš„åŠ è¼‰ (ç°¡å–®2åˆ— + è¤‡é›œ8åˆ—)

### 2. æ‡‰ç”¨é‚è¼¯å±¤é¢
- âœ… `detect_csv_format()` â€” è‡ªå‹•åµæ¸¬CSVæ ¼å¼é¡å‹
- âœ… `get_preprocessing_stages()` â€” æå–å‰è™•ç†éšæ®µåˆ—æ˜ å°„
- âœ… å¢å¼·çš„ `load_dataset()` â€” æ”¯æ´å¤šæ ¼å¼åŠ è¼‰
- âœ… ä¿ç•™å®Œæ•´DataFrameç”¨æ–¼å‰è™•ç†ç®¡é“è¦–åœ–

### 3. UI/UXå±¤é¢
- âœ… å´é‚Šæ¬„å‹•æ…‹é¡¯ç¤º ã€ŒPreprocessing Pipeline CSV Detectedã€
- âœ… å‰è™•ç†éšæ®µé¸æ“‡å™¨ (All / text_raw / text_lower / ...)
- âœ… æ–°æ¨™ç±¤é ï¼šã€ŒğŸ”„ Preprocessing Pipelineã€
- âœ… å¿«é€Ÿç¤ºä¾‹æŒ‰éˆ• (Ham/Spam ç¤ºä¾‹)

### 4. å¯è¦–åŒ–å±¤é¢
- âœ… éšæ®µ-by-éšæ®µæ–‡æœ¬è½‰æ›é¡¯ç¤º
- âœ… æ¯å€‹éšæ®µçš„å­—ç¬¦/ä»¤ç‰Œè¨ˆæ•¸æŒ‡æ¨™
- âœ… ä»¤ç‰Œè®Šæ›´è¿½è¹¤è¡¨æ ¼ (ç§»é™¤/æ·»åŠ )
- âœ… å¯æ“´å±•çš„éšæ®µè©³æƒ…å¡ç‰‡

### 5. æ–‡æª”å±¤é¢
- âœ… README.md â€” å¤šæ ¼å¼CSVæ”¯æ´æ–‡æª”
- âœ… QUICKSTART_PREPROCESSING_CSV.md â€” å¿«é€Ÿä½¿ç”¨æŒ‡å—
- âœ… ä»£ç¢¼è¨»é‡‹ â€” æ‰€æœ‰æ–°å‡½æ•¸éƒ½æœ‰æ–‡æª”

## ğŸ“ æ–°å¢/ä¿®æ”¹æ–‡ä»¶

### æ–°å¢æ–‡ä»¶
```
data/sms_spam_preprocessing.csv    â€” 9åˆ—å‰è™•ç†ç®¡é“ (2.9MB)
QUICKSTART_PREPROCESSING_CSV.md    â€” å¿«é€Ÿä½¿ç”¨æŒ‡å— (208è¡Œ)
```

### ä¿®æ”¹æ–‡ä»¶
```
app.py                             â€” +120è¡Œæ–°ä»£ç¢¼ (è‡ªå‹•æ ¼å¼æª¢æ¸¬ + ç®¡é“è¦–åœ–)
README.md                          â€” +110è¡Œæ–‡æª” (å¤šæ ¼å¼CSVæ”¯æ´èªªæ˜)
```

## ğŸ”§ æŠ€è¡“å¯¦ç¾

### æ ¸å¿ƒå‡½æ•¸

#### 1. æ ¼å¼æª¢æ¸¬
```python
def detect_csv_format(df: pd.DataFrame) -> str:
    """è‡ªå‹•åµæ¸¬CSVæ ¼å¼: 'simple' æˆ– 'preprocessing'"""
    # æª¢æŸ¥8+åˆ—æ˜¯å¦åŒ…å«3+å€‹å‰è™•ç†æ¨™è¨˜
    # è¿”å›: 'preprocessing' æˆ– 'simple'
```

#### 2. éšæ®µæå–
```python
def get_preprocessing_stages(df: pd.DataFrame) -> dict:
    """æå–7å€‹å‰è™•ç†éšæ®µçš„åˆ—æ˜ å°„"""
    # è¿”å›: {
    #   'text_raw': 'text_raw',
    #   'text_lower': 'text_lower',
    #   'text_contacts_masked': 'text_contacts_masked',
    #   ...
    # }
```

#### 3. å¢å¼·çš„æ•¸æ“šåŠ è¼‰
```python
def load_dataset(path: str = None):
    # 1. åŠ è¼‰CSV
    # 2. åµæ¸¬æ ¼å¼
    # 3. å¦‚æœæ˜¯é è™•ç†æ ¼å¼:
    #    - æå–éšæ®µæ˜ å°„
    #    - ä¿å­˜å®Œæ•´DataFrameåˆ°session_state
    # 4. è¿”å›ç°¡åŒ–çš„DataFrame (label, text)
```

### UIé‚è¼¯æµç¨‹

```
ç”¨æˆ¶é¸æ“‡CSV
    â†“
app.py è‡ªå‹•åµæ¸¬æ ¼å¼
    â†“
â”Œâ”€ ç°¡å–®æ ¼å¼ (2åˆ—) â”€â”€â”€â”€â”€â†’ æ¨™æº–è¦–åœ–
â”‚                        â€¢ åªé¡¯ç¤º4å€‹æ¨™ç±¤é 
â”‚                        â€¢ ç„¡å‰è™•ç†éšæ®µé¸æ“‡å™¨
â””â”€ é è™•ç†æ ¼å¼ (8åˆ—) â”€â”€â”€â”€â†’ å¢å¼·è¦–åœ–
                        â€¢ é¡¯ç¤º5å€‹æ¨™ç±¤é  (æ–°å¢Preprocessing Pipeline)
                        â€¢ å´é‚Šæ¬„æ·»åŠ éšæ®µé¸æ“‡å™¨
                        â€¢ æ–°çš„ç®¡é“å¯è¦–åŒ–æ¨™ç±¤é 
                        â€¢ ä¿å­˜å®Œæ•´æ•¸æ“šç”¨æ–¼è½‰æ›å±•ç¤º
```

## ğŸ“Š å‰è™•ç†ç®¡é“éšæ®µ

1. **text_raw** â€” åŸå§‹æ¶ˆæ¯
2. **text_lower** â€” å°å¯«è½‰æ› (lowercase normalization)
3. **text_contacts_masked** â€” é›»éƒµ/é›»è©±é®ç½© (contact masking)
4. **text_numbers** â€” æ•¸å­—æ›¿æ›ç‚º `<NUM>` (number replacement)
5. **text_stripped** â€” æ¨™é»ç¬¦è™Ÿç§»é™¤ (punctuation removal)
6. **text_whitespace** â€” ç©ºç™½æ­£è¦åŒ– (whitespace normalization)
7. **text_stopwords_removed** â€” åœç”¨è©ç§»é™¤ (stop word removal)

## ğŸ¨ UIæˆªåœ–æµç¨‹

### å ´æ™¯1ï¼šé¸æ“‡é è™•ç†CSV

```
å´é‚Šæ¬„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š Data Input                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Select Dataset: â–¼           â”‚ â”‚
â”‚ â”‚ data/sms_spam_preprocessing â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚ ğŸ“ˆ Preprocessing Pipeline CSV   â”‚
â”‚    Detected!                    â”‚
â”‚ You can visualize each...       â”‚
â”‚                                 â”‚
â”‚ Select Preprocessing Stage:     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ All â–¼                       â”‚ â”‚
â”‚ â”‚ (text_raw, text_lower, ...) â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¸»å°èˆª (5å€‹æ¨™ç±¤):
ğŸ“Š Data Overview | ğŸ” Model Performance | ğŸ’¬ Live Inference 
ğŸ”„ Preprocessing Pipeline | â„¹ï¸ About
```

### å ´æ™¯2ï¼šPreprocessing Pipelineæ¨™ç±¤

```
ğŸ”„ Preprocessing Pipeline Visualization

[ğŸ“© Show HAM Example] [ğŸš¨ Show SPAM Example]

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“ Preprocessing Stages (Row 0)

â–¶ Text Raw (å±•é–‹)
  go until jurong point crazy available only in bugis n...
  ğŸ“Š Characters: 47  |  Tokens: 9  |  Avg Length: 5.2

â–¶ Text Lower
  go until jurong point crazy available only in bugis n...
  ğŸ“Š Characters: 47  |  Tokens: 9  |  Avg Length: 5.2

â–¶ Text Numbers
  go until jurong point crazy available only in bugis n...
  ğŸ“Š Characters: 50  |  Tokens: 9  |  Avg Length: 5.6

... (å…¶ä»–éšæ®µé¡ä¼¼)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Transformation Summary

| Stage | Characters | Tokens | Avg Length |
|-------|-----------|--------|-----------|
| Raw | 47 | 9 | 5.2 |
| Lower | 47 | 9 | 5.2 |
| ...

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Token Changes Across Stages

| From | To | Removed | Removed Count | Added Count |
|------|----|---------|----|-----|
| Raw | Lower | | 0 | 0 |
| ...
```

## ğŸ§ª æ¸¬è©¦é©—è­‰

### æ ¼å¼åµæ¸¬æ¸¬è©¦ âœ…
```python
âœ“ ç°¡å–®CSV (2åˆ—) â†’ åµæ¸¬ç‚º 'simple'
âœ“ é è™•ç†CSV (8åˆ—) â†’ åµæ¸¬ç‚º 'preprocessing'
âœ“ éšæ®µæå– â†’ æ‰¾åˆ°7å€‹é è™•ç†éšæ®µ
âœ“ æ•¸æ“šåŠ è¼‰ â†’ å…©ç¨®æ ¼å¼éƒ½èƒ½æ­£ç¢ºåŠ è¼‰
```

### UIæ¨™ç±¤é æ¸¬è©¦ âœ…
```python
âœ“ ç°¡å–®CSV â†’ é¡¯ç¤º4å€‹æ¨™ç±¤é  (ç„¡Preprocessing)
âœ“ é è™•ç†CSV â†’ é¡¯ç¤º5å€‹æ¨™ç±¤é  (å«Preprocessing)
âœ“ éšæ®µé¸æ“‡å™¨ â†’ åœ¨é è™•ç†CSVä¸­å‡ºç¾
âœ“ ç¤ºä¾‹æŒ‰éˆ• â†’ æ­£ç¢ºåŠ è¼‰Ham/Spamæ¶ˆæ¯
```

### è½‰æ›é¡¯ç¤ºæ¸¬è©¦ âœ…
```python
âœ“ æ–‡æœ¬è½‰æ› â†’ æ¯å€‹éšæ®µæ­£ç¢ºé¡¯ç¤º
âœ“ å­—ç¬¦è¨ˆæ•¸ â†’ æº–ç¢ºè¨ˆç®—
âœ“ ä»¤ç‰Œè¨ˆæ•¸ â†’ æº–ç¢ºè¨ˆç®—
âœ“ ä»¤ç‰Œè®Šæ›´ â†’ æ­£ç¢ºè¿½è¹¤ç§»é™¤/æ·»åŠ 
```

## ğŸ“ˆ æ•¸æ“šçµ±è¨ˆ

### sms_spam_preprocessing.csv
- **è¡Œæ•¸**: 5,572 (åŸ5,574è¡Œï¼Œç§»é™¤2è¡Œç©ºå€¼)
- **åˆ—æ•¸**: 8 (1å€‹label + 7å€‹å‰è™•ç†éšæ®µ)
- **æ–‡ä»¶å¤§å°**: 2.9MB
- **Labelåˆ†ä½ˆ**: 
  - ham: 4,825 (86.6%)
  - spam: 747 (13.4%)

## ğŸš€ ä½¿ç”¨æµç¨‹

### æœ€ç°¡å–®çš„ä½¿ç”¨æ–¹å¼

```bash
# 1. å•Ÿå‹•æ‡‰ç”¨
streamlit run app.py

# 2. åœ¨å´é‚Šæ¬„é¸æ“‡: data/sms_spam_preprocessing.csv

# 3. æ‡‰ç”¨è‡ªå‹•é¡¯ç¤ºå‰è™•ç†ç®¡é“åŠŸèƒ½

# 4. æ¢ç´¢æ–°çš„ã€ŒğŸ”„ Preprocessing Pipelineã€æ¨™ç±¤
```

### ç„¡éœ€ä»»ä½•ä»£ç¢¼ä¿®æ”¹ï¼ ğŸ‰

## ğŸ”„ Gitæäº¤æ­·å²

```
8bdee5d docs: add quick start guide for 9-column preprocessing CSV
ae365ac docs: add documentation for 9-column preprocessing pipeline CSV support
c5c28f8 feat: add support for 9-column preprocessing pipeline CSV format
d967f32 fix: clean up sms_spam_clean.csv and improve CSV parsing robustness
```

## ğŸ’¡ ä¸‹ä¸€æ­¥æƒ³æ³• (æœªä¾†æ“´å±•)

- [ ] æ”¯æŒç”¨æˆ¶ä¸Šå‚³è‡ªå®šç¾©å‰è™•ç†ç®¡é“CSV
- [ ] å…è¨±è‡ªå®šç¾©å‰è™•ç†éšæ®µ
- [ ] å°æ¯”å¤šå€‹æ¶ˆæ¯çš„è½‰æ›å·®ç•°
- [ ] è¼¸å‡ºè½‰æ›å¾Œçš„æ–‡æœ¬ä¾›æ¨¡å‹ä½¿ç”¨
- [ ] å‰è™•ç†çµ±è¨ˆå„€è¡¨ç›¤ (ç§»é™¤/æ·»åŠ ä»¤ç‰Œæ¯”ä¾‹ç­‰)
- [ ] å°å‡ºéšæ®µå¯è¦–åŒ–ç‚ºåœ–åƒ

## âœ¨ äº®é»åŠŸèƒ½

1. **å®Œå…¨è‡ªå‹•** â€” ç„¡éœ€é…ç½®ï¼Œä¸Šå‚³CSVå³å¯å·¥ä½œ
2. **ç„¡ç¸«é›†æˆ** â€” èˆ‡ç¾æœ‰åŠŸèƒ½å®Œå…¨å…¼å®¹
3. **å‘å¾Œç›¸å®¹** â€” 2åˆ—CSVä»ç„¶å®Œç¾å·¥ä½œ
4. **ç›´è§€UI** â€” ç›´è§€çš„å°èˆªå’Œæ§åˆ¶
5. **å®Œæ•´æ–‡æª”** â€” å¿«é€ŸæŒ‡å—å’ŒREADME
6. **ç”Ÿç”¢å°±ç·’** â€” ç¶“éå……åˆ†æ¸¬è©¦

## ğŸ“¦ äº¤ä»˜ç‰©æ¸…å–®

- âœ… `data/sms_spam_preprocessing.csv` (æ–°æ•¸æ“šæ–‡ä»¶)
- âœ… `app.py` (å¢å¼·çš„å¤šæ ¼å¼æ”¯æ´)
- âœ… `README.md` (æ›´æ–°çš„æ–‡æª”)
- âœ… `QUICKSTART_PREPROCESSING_CSV.md` (å¿«é€ŸæŒ‡å—)
- âœ… Gitæäº¤ (4å€‹æäº¤ï¼Œå®Œæ•´æ­·å²)
- âœ… å–®å…ƒæ¸¬è©¦é©—è­‰ âœ…
- âœ… UIåŠŸèƒ½é©—è­‰ âœ…

## ğŸ“ å­¸ç¿’æˆæœ

é€šéé€™æ¬¡å¯¦ç¾ï¼Œç”¨æˆ¶å¯ä»¥ï¼š
1. ç†è§£æ–‡æœ¬é è™•ç†çš„æ¯å€‹éšæ®µ
2. çœ‹åˆ°æ¯å€‹éšæ®µçš„å¯¦éš›æ•ˆæœ
3. æ¯”è¼ƒHam vs Spamæ¶ˆæ¯çš„è™•ç†å·®ç•°
4. åˆ†æåœç”¨è©å°åˆ†é¡çš„å½±éŸ¿
5. å„ªåŒ–é è™•ç†ç®¡é“ä»¥æé«˜æ¨¡å‹æ€§èƒ½

---

## âœ… æœ€çµ‚ç‹€æ…‹

**æ‰€æœ‰éœ€æ±‚å·²å®Œæˆï¼** âœ¨

ç”¨æˆ¶ç¾åœ¨å¯ä»¥ï¼š
- ä¿ç•™åŸå§‹çš„9åˆ—è¤‡é›œCSV âœ…
- åœ¨Streamlitæ‡‰ç”¨ä¸­å¯è¦–åŒ–é è™•ç†ç®¡é“ âœ…
- æ¢ç´¢æ¯ä¸€æ­¥çš„æ–‡æœ¬è½‰æ› âœ…
- ç†è§£é è™•ç†å¦‚ä½•å½±éŸ¿åˆ†é¡ âœ…
- æ‰€æœ‰åŠŸèƒ½è‡ªå‹•é›†æˆï¼Œç„¡éœ€æ‰‹å‹•é…ç½® âœ…

**æ–°çš„ã€ŒğŸ”„ Preprocessing Pipelineã€æ¨™ç±¤é å·²æº–å‚™å¥½ï¼** ğŸš€
